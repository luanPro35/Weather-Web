<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/trangchu.css" />
    <link rel="stylesheet" href="../css/thongbao.css" />
    <title>·ª®ng d·ª•ng Th·ªùi ti·∫øt - Th√¥ng b√°o th√¥ng minh</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <div class="weather-animation" id="weatherAnimation"></div>

    <nav class="navbar">
      <div class="brand">
        <i class="fas fa-sun brand-icon"></i>
        <span class="brand-name">Weathery</span>
      </div>
      <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
        <i class="fas fa-bars"></i>
      </button>
      <ul class="nav-menu" id="navMenu">
        <li class="nav-item">
          <a href="../html/trangchu.html" class="nav-link">
            <i class="fas fa-home"></i> Trang ch·ªß
          </a>
        </li>
        <li class="nav-item">
          <a href="../html/dubao.html#forecast" class="nav-link">
            <i class="fas fa-calendar-alt"></i> D·ª± b√°o
          </a>
        </li>
        <li class="nav-item">
          <a href="../html/thanhpho.html" class="nav-link">
            <i class="fas fa-city"></i> Th√†nh ph·ªë
          </a>
        </li>
        <li class="nav-item">
          <a href="../html/thongbao.html" class="nav-link">
            <i class="fas fa-bell"></i> Th√¥ng b√°o
          </a>
        </li>
        <li class="nav-item" id="auth-section">
          <a
            href="#"
            class="nav-link"
            id="loginTriggerLink"
          >
            <i class="fas fa-sign-in-alt"></i> ƒêƒÉng nh·∫≠p
          </a>
          <!-- Ch·ªó hi·ªÉn th·ªã l·ªùi ch√†o sau khi ƒëƒÉng nh·∫≠p -->
          <span
            id="user-greeting"
            class="nav-link"
            style="display: none"
          ></span>
        </li>
        <li class="nav-item">
          <div class="settings-dropdown">
            <button class="settings-btn">
              <i class="fas fa-cog"></i>
            </button>
            <div class="settings-content">
              <div class="temp-toggle">
                <span>¬∞C</span>
                <label class="switch">
                  <input type="checkbox" id="tempUnitToggle" />
                  <span class="slider round"></span>
                </label>
                <span>¬∞F</span>
              </div>
              <div class="language-select">
                <select id="languageSelect">
                  <option value="vi">Ti·∫øng Vi·ªát</option>
                  <option value="en">English</option>
                </select>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </nav>

    <div class="container">
      <div class="page-header">
        <h1 class="page-title">
          <i class="fas fa-bell"></i>
          Th√¥ng B√°o Th√¥ng Minh
        </h1>
        <p class="page-subtitle">
          C·∫•u h√¨nh th√¥ng b√°o th·ªùi ti·∫øt c√° nh√¢n h√≥a ƒë·ªÉ kh√¥ng bao gi·ªù b·ªè l·ª° th√¥ng
          tin quan tr·ªçng
        </p>
      </div>

      <!-- Quick Settings -->
      <div class="quick-settings">
        <div class="quick-setting" onclick="toggleAllNotifications()">
          <i class="fas fa-power-off" style="color: #ff6b6b"></i>
          <div>T·∫Øt/B·∫≠t t·∫•t c·∫£</div>
        </div>
        <div class="quick-setting" onclick="setQuietHours()">
          <i class="fas fa-moon" style="color: #4ecdc4"></i>
          <div>Gi·ªù y√™n tƒ©nh</div>
        </div>
        <div class="quick-setting" onclick="importSettings()">
          <i class="fas fa-download" style="color: #ffd700"></i>
          <div>T·∫£i c√†i ƒë·∫∑t</div>
        </div>
        <div class="quick-setting" onclick="exportSettings()">
          <i class="fas fa-upload" style="color: #45b7d1"></i>
          <div>Xu·∫•t c√†i ƒë·∫∑t</div>
        </div>
      </div>

      <div class="notifications-grid">
        <!-- Th√¥ng b√°o th·ªùi ti·∫øt h√†ng ng√†y -->
        <div class="notification-card">
          <div class="card-header">
            <div
              class="card-icon"
              style="background: linear-gradient(135deg, #ffd700, #ffed4e)"
            >
              <i class="fas fa-sun"></i>
            </div>
            <div class="card-title">B√°o c√°o th·ªùi ti·∫øt h√†ng ng√†y</div>
          </div>
          <div class="card-description">
            Nh·∫≠n b√°o c√°o th·ªùi ti·∫øt chi ti·∫øt m·ªói ng√†y v·ªõi d·ª± b√°o ch√≠nh x√°c v√† l·ªùi
            khuy√™n ph√π h·ª£p.
          </div>

          <label class="toggle-switch">
            <input type="checkbox" id="dailyWeather" checked />
            <span class="slider"></span>
          </label>

          <div class="time-picker-group">
            <input
              type="time"
              class="time-input"
              id="dailyTime"
              value="07:00"
            />
            <select class="time-input" id="dailyFrequency">
              <option value="daily">H√†ng ng√†y</option>
              <option value="weekdays">Th·ª© 2-6</option>
              <option value="weekends">Cu·ªëi tu·∫ßn</option>
            </select>
          </div>
        </div>

        <!-- C·∫£nh b√°o th·ªùi ti·∫øt kh·∫Øc nghi·ªát -->
        <div class="notification-card">
          <div class="card-header">
            <div
              class="card-icon"
              style="background: linear-gradient(135deg, #ff6b6b, #ee5a52)"
            >
              <i class="fas fa-exclamation-triangle"></i>
            </div>
            <div class="card-title">C·∫£nh b√°o th·ªùi ti·∫øt kh·∫Øc nghi·ªát</div>
          </div>
          <div class="card-description">
            Nh·∫≠n th√¥ng b√°o ngay l·∫≠p t·ª©c khi c√≥ c·∫£nh b√°o b√£o, m∆∞a l·ªõn, n·∫Øng n√≥ng
            hay c√°c hi·ªán t∆∞·ª£ng th·ªùi ti·∫øt nguy hi·ªÉm.
          </div>

          <label class="toggle-switch">
            <input type="checkbox" id="severeWeather" checked />
            <span class="slider"></span>
          </label>

          <div class="condition-tags">
            <div class="condition-tag active" data-condition="storm">
              üå©Ô∏è B√£o
            </div>
            <div class="condition-tag active" data-condition="heavy-rain">
              üåßÔ∏è M∆∞a l·ªõn
            </div>
            <div class="condition-tag active" data-condition="extreme-heat">
              üî• N·∫Øng n√≥ng
            </div>
            <div class="condition-tag active" data-condition="fog">
              üå´Ô∏è S∆∞∆°ng m√π
            </div>
          </div>
        </div>

        <!-- D·ª± b√°o m∆∞a th√¥ng minh -->
        <div class="notification-card">
          <div class="card-header">
            <div
              class="card-icon"
              style="background: linear-gradient(135deg, #4ecdc4, #44a08d)"
            >
              <i class="fas fa-cloud-rain"></i>
            </div>
            <div class="card-title">D·ª± b√°o m∆∞a th√¥ng minh</div>
          </div>
          <div class="card-description">
            Nh·∫≠n th√¥ng b√°o tr∆∞·ªõc 30-60 ph√∫t khi c√≥ m∆∞a ƒë·ªÉ chu·∫©n b·ªã √¥, √°o m∆∞a
            ho·∫∑c thay ƒë·ªïi k·∫ø ho·∫°ch.
          </div>

          <label class="toggle-switch">
            <input type="checkbox" id="rainForecast" checked />
            <span class="slider"></span>
          </label>

          <div class="time-picker-group">
            <select class="time-input" id="rainAdvanceTime">
              <option value="30">30 ph√∫t tr∆∞·ªõc</option>
              <option value="60" selected>1 gi·ªù tr∆∞·ªõc</option>
              <option value="120">2 gi·ªù tr∆∞·ªõc</option>
            </select>
            <select class="time-input" id="rainIntensity">
              <option value="light">M∆∞a nh·∫π</option>
              <option value="moderate" selected>M∆∞a v·ª´a</option>
              <option value="heavy">M∆∞a to</option>
            </select>
          </div>
        </div>

        <!-- Th√¥ng b√°o email h√†ng ng√†y -->
        <div class="notification-card">
          <div class="card-header">
            <div
              class="card-icon"
              style="background: linear-gradient(135deg, #45b7d1, #3498db)"
            >
              <i class="fas fa-envelope"></i>
            </div>
            <div class="card-title">Th√¥ng b√°o email h√†ng ng√†y</div>
          </div>
          <div class="card-description">
            Nh·∫≠n b√°o c√°o th·ªùi ti·∫øt chi ti·∫øt qua email h√†ng ng√†y v·ªõi d·ª± b√°o v√† l·ªùi khuy√™n ph√π h·ª£p.
          </div>

          <label class="toggle-switch">
            <input type="checkbox" id="emailDailyEnabled" />
            <span class="slider"></span>
          </label>

          <div class="email-input-container">
            <input
              type="email"
              class="email-input"
              placeholder="Nh·∫≠p email c·ªßa b·∫°n"
              id="emailAddress"
            />
          </div>
          
          <div class="time-picker-group">
            <input
              type="time"
              class="time-input"
              id="emailDailyTime"
              value="07:00"
            />
            <select class="time-input" id="emailDailyFrequency">
              <option value="daily">H√†ng ng√†y</option>
              <option value="weekdays">Th·ª© 2-6</option>
              <option value="weekends">Cu·ªëi tu·∫ßn</option>
            </select>
          </div>
        </div>
        
        <!-- B√°o c√°o email h√†ng tu·∫ßn -->
        <div class="notification-card">
          <div class="card-header">
            <div
              class="card-icon"
              style="background: linear-gradient(135deg, #9b59b6, #8e44ad)"
            >
              <i class="fas fa-calendar-week"></i>
            </div>
            <div class="card-title">B√°o c√°o email h√†ng tu·∫ßn</div>
          </div>
          <div class="card-description">
            Nh·∫≠n b√°o c√°o th·ªùi ti·∫øt chi ti·∫øt qua email v·ªõi bi·ªÉu ƒë·ªì, xu h∆∞·ªõng v√†
            l·ªùi khuy√™n cho tu·∫ßn t·ªõi.
          </div>

          <label class="toggle-switch">
            <input type="checkbox" id="emailWeeklyEnabled" />
            <span class="slider"></span>
          </label>

          <div class="time-picker-group">
            <select class="time-input" id="emailWeeklyDay">
              <option value="monday">Th·ª© Hai</option>
              <option value="tuesday">Th·ª© Ba</option>
              <option value="wednesday">Th·ª© T∆∞</option>
              <option value="thursday">Th·ª© NƒÉm</option>
              <option value="friday">Th·ª© S√°u</option>
              <option value="saturday">Th·ª© B·∫£y</option>
              <option value="sunday">Ch·ªß Nh·∫≠t</option>
            </select>
            <input
              type="time"
              class="time-input"
              id="emailWeeklyTime"
              value="08:00"
            />
          </div>
          
          <button class="btn btn-primary" id="saveEmailSettings">
            <i class="fas fa-save"></i>
            L∆∞u c√†i ƒë·∫∑t email
          </button>
        </div>

        <!-- Th√¥ng b√°o ho·∫°t ƒë·ªông ngo√†i tr·ªùi -->
        <div class="notification-card">
          <div class="card-header">
            <div
              class="card-icon"
              style="background: linear-gradient(135deg, #2ecc71, #27ae60)"
            >
              <i class="fas fa-running"></i>
            </div>
            <div class="card-title">Th·ªùi ti·∫øt ho·∫°t ƒë·ªông ngo√†i tr·ªùi</div>
          </div>
          <div class="card-description">
            Nh·∫≠n g·ª£i √Ω th·ªùi ƒëi·ªÉm t·ªët nh·∫•t ƒë·ªÉ ch·∫°y b·ªô, ƒëi b·ªô, d√£ ngo·∫°i d·ª±a tr√™n
            ƒëi·ªÅu ki·ªán th·ªùi ti·∫øt.
          </div>

          <label class="toggle-switch">
            <input type="checkbox" id="outdoorActivity" />
            <span class="slider"></span>
          </label>

          <div class="condition-tags">
            <div class="condition-tag" data-activity="running">üèÉ‚Äç‚ôÇÔ∏è Ch·∫°y b·ªô</div>
            <div class="condition-tag" data-activity="cycling">üö¥‚Äç‚ôÇÔ∏è ƒê·∫°p xe</div>
            <div class="condition-tag" data-activity="hiking">ü•æ Leo n√∫i</div>
            <div class="condition-tag" data-activity="picnic">üß∫ D√£ ngo·∫°i</div>
          </div>
        </div>

        <!-- Ch·ªâ s·ªë UV v√† chƒÉm s√≥c da -->
        <div class="notification-card">
          <div class="card-header">
            <div
              class="card-icon"
              style="background: linear-gradient(135deg, #f39c12, #e67e22)"
            >
              <i class="fas fa-hand-paper"></i>
            </div>
            <div class="card-title">Ch·ªâ s·ªë UV & ChƒÉm s√≥c da</div>
          </div>
          <div class="card-description">
            Nh·∫≠n c·∫£nh b√°o v·ªÅ ch·ªâ s·ªë UV cao v√† l·ªùi khuy√™n b·∫£o v·ªá da ph√π h·ª£p v·ªõi
            t·ª´ng th·ªùi ƒëi·ªÉm.
          </div>

          <label class="toggle-switch">
            <input type="checkbox" id="uvIndex" />
            <span class="slider"></span>
          </label>

          <div class="time-picker-group">
            <select class="time-input" id="uvThreshold">
              <option value="3">UV t·ª´ 3 (Trung b√¨nh)</option>
              <option value="6" selected>UV t·ª´ 6 (Cao)</option>
              <option value="8">UV t·ª´ 8 (R·∫•t cao)</option>
              <option value="11">UV t·ª´ 11 (C·ª±c cao)</option>
            </select>
            <input
              type="time"
              class="time-input"
              id="uvCheckTime"
              value="10:00"
            />
          </div>
        </div>
      </div>

      <!-- Smart Suggestions -->
      <div class="smart-suggestions">
        <div class="suggestions-title">
          <i class="fas fa-lightbulb" style="color: #ffd700"></i>
          G·ª£i √Ω th√¥ng minh
        </div>
        <div class="suggestion-item">
          <div>
            <div style="font-weight: 500">B·∫≠t th√¥ng b√°o m∆∞a cho ng√†y mai</div>
            <div style="font-size: 0.9rem; opacity: 0.7">
              D·ª± b√°o c√≥ m∆∞a l·ªõn t·ª´ 14:00-17:00
            </div>
          </div>
          <button class="btn btn-secondary" onclick="acceptSuggestion('rain')">
            <i class="fas fa-check"></i>
            √Åp d·ª•ng
          </button>
        </div>
        <div class="suggestion-item">
          <div>
            <div style="font-weight: 500">
              ƒêi·ªÅu ch·ªânh gi·ªù th√¥ng b√°o h√†ng ng√†y
            </div>
            <div style="font-size: 0.9rem; opacity: 0.7">
              D·ª±a tr√™n th√≥i quen s·ª≠ d·ª•ng c·ªßa b·∫°n
            </div>
          </div>
          <button
            class="btn btn-secondary"
            onclick="acceptSuggestion('timing')"
          >
            <i class="fas fa-clock"></i>
            Xem g·ª£i √Ω
          </button>
        </div>
      </div>

      <!-- Notification History -->
      <div class="notification-history">
        <div class="history-title">
          <i class="fas fa-history"></i>
          L·ªãch s·ª≠ th√¥ng b√°o
        </div>
        <div id="historyList">
          <div class="history-item">
            <div class="history-icon">
              <i class="fas fa-sun" style="color: #ffd700"></i>
            </div>
            <div class="history-content">
              <div class="history-message">
                B√°o c√°o th·ªùi ti·∫øt h√†ng ng√†y - H√¥m nay tr·ªùi n·∫Øng ƒë·∫πp
              </div>
              <div class="history-time">15 ph√∫t tr∆∞·ªõc</div>
            </div>
          </div>
          <div class="history-item">
            <div class="history-icon">
              <i class="fas fa-cloud-rain" style="color: #4ecdc4"></i>
            </div>
            <div class="history-content">
              <div class="history-message">
                C·∫£nh b√°o m∆∞a - D·ª± b√°o m∆∞a trong 45 ph√∫t t·ªõi
              </div>
              <div class="history-time">2 gi·ªù tr∆∞·ªõc</div>
            </div>
          </div>
          <div class="history-item">
            <div class="history-icon">
              <i class="fas fa-exclamation-triangle" style="color: #ff6b6b"></i>
            </div>
            <div class="history-content">
              <div class="history-message">
                C·∫£nh b√°o nhi·ªát ƒë·ªô cao - UV index: 9 (R·∫•t cao)
              </div>
              <div class="history-time">H√¥m qua</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Chatbot ƒë√£ ƒë∆∞·ª£c lo·∫°i b·ªè theo y√™u c·∫ßu -->
    
    <!-- Khung ƒêƒÉng nh·∫≠p (Modal) -->
    <div id="loginModal" class="modal-overlay">
      <div class="modal-content">
        <span class="modal-close-button">&times;</span>

        <!-- Login View -->
        <div id="loginView">
          <h2>ƒêƒÉng nh·∫≠p</h2>
          <p>Ch√†o m·ª´ng b·∫°n tr·ªü l·∫°i!</p>
          <form id="loginForm">
            <input type="email" id="loginEmail" placeholder="Email" required />
            <input
              type="password"
              id="loginPassword"
              placeholder="M·∫≠t kh·∫©u"
              required
            />
            <button type="submit" class="form-button">ƒêƒÉng nh·∫≠p</button>
          </form>
          <div class="or-divider"><span>HO·∫∂C</span></div>
          <button id="googleLoginButton" class="google-signin-button">
            <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill="#4285F4"
                d="M17.64 9.20455c0-.63818-.05727-1.25182-.16364-1.84091H9v3.48182h4.84364c-.20455 1.125-.82091 2.07818-1.73637 2.72182v2.25818h2.90727c1.70182-1.56682 2.68363-3.87545 2.68363-6.62091z"
              />
              <path
                fill="#34A853"
                d="M9 18c2.43 0 4.46727-.80545 5.95636-2.18182l-2.90727-2.25818c-.80545.54364-1.84091.87273-3.04909.87273-2.34546 0-4.32546-1.58182-5.03727-3.71091H.957273v2.33181C2.43818 16.13318 5.48182 18 9 18z"
              />
              <path
                fill="#FBBC05"
                d="M3.962727 10.71c-.181818-.54364-.286363-1.125-.286363-1.71s.104545-1.16636.286363-1.71V4.958181H.957273C.347727 6.173181 0 7.547727 0 9s.347727 2.826819.957273 4.041819l3.005454-2.331819z"
              />
              <path
                fill="#EA4335"
                d="M9 3.57818c1.32273 0 2.50727.46182 3.44091 1.34545l2.58545-2.58545C13.46364.891818 11.42591 0 9 0 5.48182 0 2.43818 1.866819.957273 4.958181l3.005454 2.33091C4.674545 5.16 6.654545 3.57818 9 3.57818z"
              />
            </svg>
            ƒêƒÉng nh·∫≠p v·ªõi Google
          </button>
          <p class="toggle-form-text">
            Ch∆∞a c√≥ t√†i kho·∫£n? <a href="#" id="showRegisterViewLink">ƒêƒÉng k√Ω</a>
          </p>
        </div>

        <!-- Register View -->
        <div id="registerView" style="display: none">
          <h2>ƒêƒÉng k√Ω</h2>
          <p>T·∫°o t√†i kho·∫£n m·ªõi ƒë·ªÉ tr·∫£i nghi·ªám ƒë·∫ßy ƒë·ªß.</p>
          <form id="registerForm">
            <input
              type="email"
              id="registerEmail"
              placeholder="Email"
              required
            />
            <input
              type="password"
              id="registerPassword"
              placeholder="M·∫≠t kh·∫©u (√≠t nh·∫•t 6 k√Ω t·ª±)"
              required
            />
            <input
              type="password"
              id="registerConfirmPassword"
              placeholder="X√°c nh·∫≠n m·∫≠t kh·∫©u"
              required
            />
            <button type="submit" class="form-button">ƒêƒÉng k√Ω</button>
          </form>
          <p class="toggle-form-text">
            ƒê√£ c√≥ t√†i kho·∫£n? <a href="#" id="showLoginViewLink">ƒêƒÉng nh·∫≠p</a>
          </p>
        </div>
      </div>
    </div>
    <script src="../js/thongbao.js"></script>
    <!-- Script li√™n quan ƒë·∫øn chatbot ƒë√£ ƒë∆∞·ª£c lo·∫°i b·ªè -->
    <!-- Script ƒë·ªÉ x·ª≠ l√Ω hi·ªÉn th·ªã l·ªùi ch√†o sau khi ƒëƒÉng nh·∫≠p Google -->
    <script src="../js/auth-greeting.js"></script>
  </body>
</html>
